# groupby で存在しない列をカウントする場合は `.size()` を使う

`groupby()` 後に各グループの行数（件数）を知りたいとき、カラムを指定して `count()` を呼ぶと指定したカラムに欠損値がある場合や列自体が存在しない場合にエラーになります。

例えば以下のように存在しない列 `'\u53d7\u53d8\u5148\u4ef6\u6570'` を指定すると `KeyError` になります。

```python
df.groupby('\u53d8\u53d7\u5148\u540d')['\u53d7\u53d8\u5148\u4ef6\u6570'].count()  # ← エラー: Column not found: \u53d7\u53d8\u5148\u4ef6\u6570
```

このような場合は、列を指定せずに `.size()` を使うことで **純纯に行数（レコード数）をカウント** できます。`size()` は欠損値も含めて行数を返すので、存在しない列を指定する必要がありません。

```python
supplier_counts = (
    df.groupby('\u53d8\u53d7\u5148\u540d')
      .size()           # グループごとの行数をカウント
      .rename('\u4ef6\u6570')   # 結果に列名を付ける（任意）
)
```

この結果は变\u53d7\u5148における行数を示します。行数を集計したいときは `.size()` を使うとシンプルで安全です。
